# Flight Scheduling Optimization System

This project implements a system to optimize flight scheduling on airport runways, minimizing the total penalty for delays. The system uses a hybrid approach that combines a greedy algorithm for the initial solution and a Variable Neighborhood Descent (VND) algorithm for refinement.

## Description

The problem consists of allocating flights to takeoff runways, considering:
- Scheduled departure time for each flight
- Flight duration
- Penalty per minute of delay for each flight
- Wake turbulence times between consecutive flights

The objective is to minimize the total penalty resulting from scheduling delays.

## Project Structure

```
project/
├── inputs/           # Input files with flight data
├── outputs/          # Output files generated by the program
├── src/
│   ├── Flight.hh     # Flight class declaration
│   ├── Flight.cc     # Flight class implementation
│   └── main.cc       # Main program
└── README.md         # This file
```

## `Flight` Class

The main class that manages all the system logic:

### Main Attributes

- `numberOfFlights`: Total number of flights
- `numberOfRunWays`: Number of available runways
- `departureTime`: Vector with scheduled departure times
- `timeToFlight`: Vector with flight durations
- `fee`: Vector with penalties per minute of delay for each flight
- `wakeTurbulence`: Matrix of wake turbulence times between flights
- `runways`: Vector of pairs (vector of flight indices, total time) for each runway
- `totalFeeToPay`: Total penalty to be paid

### Main Methods

- `bestRunway()`: Greedy algorithm for initial flight allocation
- `vnd()`: Implementation of the VND algorithm for optimization
- `calculateTotalPenalty()`: Calculates the total penalty for a given solution

### VND Neighborhood Methods

The VND algorithm implements four neighborhood structures:

1. `throughRunways()`: Exchanges flights between different runways
2. `swapLine()`: Exchanges the position of two flights on the same runway
3. `opt2()`: Reverses sequences of flights (2-opt move)
4. `reinsertion()`: Reinserts a flight at a different position

## How to Use

### Compilation

```bash
g++ -o flight_scheduler main.cc Flight.cc -std=c++11
```

### Execution

```bash
./flight_scheduler <input_file_name>
```

The input file must be in the `inputs/` folder and follow the specified format.

### Input File Format

```
<number_of_flights>
<number_of_runways>
<departure_time_flight_1> <departure_time_flight_2> ... <departure_time_flight_n>
<duration_flight_1> <duration_flight_2> ... <duration_flight_n>
<penalty_flight_1> <penalty_flight_2> ... <penalty_flight_n>
<wake_turbulence_time_matrix>
```

### Output

The program generates an output file in the `outputs/` folder named `saida_<input_file_name>` containing:
- On the first line: the total penalty to be paid
- On the following lines: the allocation of flights on each runway

## Implemented Algorithms

### Greedy Algorithm

The greedy algorithm (`bestRunway()`) allocates flights to runways sequentially, always selecting the flight that minimizes the immediate penalty.

### Variable Neighborhood Descent (VND)

The VND algorithm (`vnd()`) refines the initial solution by systematically exploring different neighborhood structures. The search changes to a new neighborhood structure when a local optimum is found and returns to the first structure when an improvement is obtained.

## Results and Metrics

The program displays:
- The initial (greedy) solution and its total penalty
- The final solution (after VND) and its total penalty
- The number of movements performed in each neighborhood
- The execution time for both greedy and VND algorithms

## Usage Example

```bash
./flight_scheduler instance01.txt
```

Expected output:
```
instance01.txt
Flight allocation on runways:
Runway 0: 3 5 8 
Runway 1: 0 2 7 
Runway 2: 1 4 6 9 
Total penalty: 1250
Greedy Execution Time: 0.123 milliseconds

Runway after VND
Flight allocation on runways:
Runway 0: 0 5 8 
Runway 1: 1 4 7 
Runway 2: 3 2 6 9 
Previous total penalty (GREEDY): 1250
New total penalty (VND): 980

----------------------------------------------
Neighborhood movements
THROUGHRUNWAYS - 3
SWAP - 2
OPT2 - 1
REINSERTION - 0
While repetitions - 6
VND Execution Time: 1.456 milliseconds
```

## Limitations and Possible Improvements

- Implement other metaheuristics such as Simulated Annealing or Genetic Algorithms
- Add a graphical interface for solution visualization
- Include more operational constraints, such as runway maintenance times
- Optimize the code to handle large-scale instances
